\begin{tikzpicture}[scale=1]
   \def\r{4.5}
   \def\ix{2.5}
   \def\iy{2}
   \def\iz{1.5}
   \def\distance{0.25}

   % Vertical bar height (how far above and below the label)
   \def\barheight{0.3}

  % Positions for each matrix
  \def\xA{0}
  \def\xB{\r+0.5}
  \def\xC{2*\r+1}

  % Draw rectangles for A, B, and C
  \draw (\xA,0) rectangle ++(\r,\iy);
  \draw (\xB,0) rectangle ++(\r,\ix);
  \draw (\xC,0) rectangle ++(\r,\iz);

  % Function to draw a vector column with bars above/below
  \newcommand{\vectorcolumn}[4]{
    \draw ({#1}, {#3 + \distance}) -- ({#1}, {#4 - \distance});
    \draw ({#1}, {#3 - \distance}) -- ({#1}, {0 + \distance});
    \node at (#1, #3) {#2};
  }

  % % First two columns: a_1, a_2
  % \foreach \i/\label in {0/1, 1/2} {
  %   \pgfmathsetmacro{\xai}{\xA + (\r/5)*(\i + 0.5)}
  %   \pgfmathsetmacro{\xbi}{\xB + (\r/5)*(\i + 0.5)}
  %   \pgfmathsetmacro{\xci}{\xC + (\r/5)*(\i + 0.5)}
  %   \vectorcolumn{\xai}{$\mathbf{a}_{\label}$}{0.5*\iy}
  %   \vectorcolumn{\xbi}{$\mathbf{b}_{\label}$}{0.5*\ix}
  %   \vectorcolumn{\xci}{$\mathbf{c}_{\label}$}{0.5*\iz}
  % }

  %  % Vector column macro with vertical lines
  %  \newcommand{\vectorcolumn}[5]{ % x, label, y_center, y_top, y_bottom
  %    % Top vertical line
  %    \draw ({#1}, {#3 + #5}) -- ({#1}, {#4 - #5});
  %    % Bottom vertical line
  %    \draw ({#1}, {#3 - #5}) -- ({#1}, {#2 + #5});
  %    % Label node
  %    \node at (#1, #3) {#2};
  %  }

   % First two columns
   \foreach \i/\label in {0/1, 1/2} {
     \pgfmathsetmacro{\xai}{\xA + (\r/5)*(\i + 0.5)}
     \pgfmathsetmacro{\yai}{0.5*\iy}
     \vectorcolumn{\xai}{$\mathbf{a}_{\label}$}{\yai}{\iy} % {\iy}{0.01}{\distance}

     \pgfmathsetmacro{\xbi}{\xB + (\r/5)*(\i + 0.5)}
     \pgfmathsetmacro{\ybi}{0.5*\ix}
     \vectorcolumn{\xbi}{$\mathbf{b}_{\label}$}{\ybi}{\ix} % {\ix}{0}{\distance}

     \pgfmathsetmacro{\xci}{\xC + (\r/5)*(\i + 0.5)}
     \pgfmathsetmacro{\yci}{0.5*\iz}
     \vectorcolumn{\xci}{$\mathbf{c}_{\label}$}{\yci}{\iz} % {\iz}{0}{\distance}
   }

   % Ellipsis column (centered)
   \node at ({\xA + (\r/5)*2.5}, {0.5*\iy}) {\ldots};
   \node at ({\xB + (\r/5)*2.5}, {0.5*\ix}) {\ldots};
   \node at ({\xC + (\r/5)*2.5}, {0.5*\iz}) {\ldots};

   % First two columns
   \foreach \i/\label in {3/{r-1}, 4/r} {
     \pgfmathsetmacro{\xai}{\xA + (\r/5)*(\i + 0.5)}
     \pgfmathsetmacro{\yai}{0.5*\iy}
     \vectorcolumn{\xai}{$\mathbf{a}_{\label}$}{\yai}{\iy} % {\iy}{0.01}{\distance}

     \pgfmathsetmacro{\xbi}{\xB + (\r/5)*(\i + 0.5)}
     \pgfmathsetmacro{\ybi}{0.5*\ix}
     \vectorcolumn{\xbi}{$\mathbf{b}_{\label}$}{\ybi}{\ix} % {\ix}{0}{\distance}

     \pgfmathsetmacro{\xci}{\xC + (\r/5)*(\i + 0.5)}
     \pgfmathsetmacro{\yci}{0.5*\iz}
     \vectorcolumn{\xci}{$\mathbf{c}_{\label}$}{\yci}{\iz} % {\iz}{0}{\distance}
   }

  % Matrix labels
  \node at ({\xA + 0.5*\r}, -0.5) {$\mathbf{A}$};
  \node at ({\xB + 0.5*\r}, -0.5) {$\mathbf{B}$};
  \node at ({\xC + 0.5*\r}, -0.5) {$\mathbf{C}$};

\end{tikzpicture}